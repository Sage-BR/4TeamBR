<?xml version="1.0" encoding="UTF-8"?>
<project name="L24TeamBR" default="clean" basedir=".">
	<description>
        This script will compile 4TeamBR core only.  
    </description>

	<path id="classpath">
		<fileset dir="lib">
			<include name="**/*.jar" />
		</fileset>
	</path>
	
	<target name="init" description="Create the output directories.">
		<mkdir dir="build" />
		<mkdir dir="build-core/bin" />
		<mkdir dir="build-core/gameserver" />
		<mkdir dir="build-core/loginserver" />
	</target>

	<target name="compile" description="Compile the source.">
		<javac destdir="build-core/bin" includeantruntime="false" debug="on" encoding="utf-8" nowarn="off">
			<src path="head-src" />
			<classpath refid="classpath" />
		</javac>
	</target>

	<target name="jar" depends="compile" description="Create the jar file">
		<jar destfile="build-core/4TeamBR.jar">
			<fileset dir="build-core/bin" />
		</jar>

		<copy file="build-core/4TeamBR.jar" todir="build-core/loginserver/lib"/>
		<copy file="build-core/4TeamBR.jar" todir="build-core/gameserver/lib"/>
			
	</target>

	<target name="clean" depends="jar">
		<delete dir="build-core/bin/com" />
		<delete dir="build-core/dist" />
		<delete dir="build-core/gameserver" />
		<delete dir="build-core/loginserver" />
		<delete dir="build-core/L24Team_Source.zip" />
	</target>

</project>